<!DOCTYPE html>
<html lang="pl">

<head>
  <meta charset="UTF-8">
  <title>Admin - Upload Zdjƒôƒá do Galerii</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" type="image/png" href="/images/logo.png" />
  <style>
    .dashboard-container {
      max-width: 1400px;
      margin: 100px auto 0;
      padding: 0 20px 40px;
      width: 100%;
      display: block;
    }

    #previewContainer img {
      max-width: 100%;
      max-height: 300px;
      border-radius: 8px;
      border: 1px solid #444;
      margin-top: 10px;
    }

    /* STYL LISTY (Jeden pod drugim) */
    .images-list-container {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .image-row-item {
      display: flex;
      align-items: flex-start;
      /* Wyr√≥wnanie do g√≥ry */
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 15px;
      gap: 20px;
      transition: background 0.2s;
    }

    .image-row-item:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(218, 165, 32, 0.3);
    }

    .image-row-thumb {
      width: 140px;
      height: 100px;
      object-fit: cover;
      border-radius: 6px;
      flex-shrink: 0;
      border: 1px solid #333;
    }

    .image-row-content {
      flex: 1;
      min-width: 0;
      padding-top: 5px;
    }

    .image-row-content h3 {
      margin: 0 0 8px 0;
      color: #FFD700;
      font-size: 18px;
      /* Tytu≈Ç: max 1 linia, potem kropki */
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* KLUCZOWA KLASA: UCINANIE PO 3 LINIACH */
    .truncate-multiline {
      margin: 0;
      font-size: 14px;
      color: #ccc;
      line-height: 1.5;

      /* Magia CSS do ucinania po X liniach */
      display: -webkit-box;
      -webkit-line-clamp: 3;
      /* <-- Zmie≈Ñ to na 4 lub 5 je≈õli chcesz wiƒôcej tekstu */
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: normal;
    }

    .image-row-meta {
      margin-top: 10px;
      font-size: 11px;
      color: #666;
    }

    .image-row-actions {
      display: flex;
      flex-direction: column;
      gap: 10px;
      min-width: 110px;
      padding-top: 5px;
    }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="topbar-content">
      <div class="logo-section">
        <img src="/images/logo.png" class="topbar-logo" alt="Logo Football Profiles" />
        <span class="site-title">Football Profiles</span>
      </div>
      <nav class="topbar-nav">
        <a href="dashboard.html" class="nav-tab">Panel</a>
        <a href="gallery.html" class="nav-tab">Galeria</a>
        <a href="forum.html" class="nav-tab">Forum</a>

        <a href="moderator-posts.html" class="nav-tab" id="moderatorLink" style="display:none;">Moderacja</a>
        <a href="admin-categories.html" class="nav-tab" id="adminLink" style="display:none;">Admin</a>
        <a href="admin-gallery-manage.html" class="nav-tab" id="galleryManageLink" style="display:none;">ZarzƒÖdzaj
          Galeriami</a>
        <a href="admin-orders.html" class="nav-tab" id="ordersLink" style="display:none;">Zam√≥wienia</a>
      </nav>
      <div class="topbar-actions">
        <div id="authBar" class="authbar"><span id="who">...</span><button id="logoutBtn"
            class="btn btn-ghost">Wyloguj</button></div>
      </div>
    </div>
  </header>

  <div class="dashboard-container">
    <h1 class="page-title">üì§ Upload Zdjƒôƒá do Bazy</h1>
    <div class="sub-nav">
      <a href="admin-gallery-upload.html" class="sub-nav-link active">Upload zdjƒôƒá</a>
      <a href="admin-gallery-manage.html" class="sub-nav-link">ZarzƒÖdzaj Sliderem</a>
      <a href="gallery.html" class="sub-nav-link">PodglƒÖd dla U≈ºytkownika</a>
    </div>

    <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 40px; margin-top: 30px; align-items: start;">

      <div class="admin-panel" style="position: sticky; top: 100px;">
        <h2 id="formHeader">Nowe zdjƒôcie</h2>

        <div id="previewContainer" style="display:none; text-align:center; margin-bottom:15px;"></div>

        <div id="fileInputContainer" class="upload-zone">
          <div class="upload-icon">üñºÔ∏è</div>
          <p>PrzeciƒÖgnij plik lub kliknij.</p>
          <input type="file" id="fileInput" accept="image/*" hidden>
        </div>

        <div class="form-group">
          <label for="imageTitle">Tytu≈Ç</label>
          <input type="text" id="imageTitle" class="form-input" placeholder="Wpisz tytu≈Ç..." required>
        </div>

        <div class="form-group">
          <label for="imageDescription">Opis</label>
          <textarea id="imageDescription" class="form-textarea" rows="4" placeholder="Wpisz opis..."></textarea>
        </div>

        <div style="display: flex; gap: 10px; margin-top: 15px;">
          <button id="submitUploadBtn" class="btn btn-primary" disabled style="flex: 1;">Upload</button>
          <button id="cancelEditBtn" class="btn btn-secondary" style="display: none;">Anuluj</button>
        </div>

        <div id="message" class="success" style="margin-top: 15px;"></div>
      </div>

      <div>
        <h2 style="color: #FFD700; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #333;">
          Twoja baza zdjƒôƒá
        </h2>
        <div id="imagesGrid" class="images-list-container">
          <div class="loading">≈Åadowanie zdjƒôƒá...</div>
        </div>
      </div>

    </div>
  </div>

  <script src="/admin-gallery-upload.js" type="module"></script>
  <script type="module" src="/theme-manager.js"></script>
</body>

</html>